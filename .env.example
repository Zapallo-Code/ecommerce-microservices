# =============================================================================
# ECOMMERCE MICROSERVICES - ENVIRONMENT VARIABLES EXAMPLE
# =============================================================================
# Copy this file to .env and adjust the values according to your environment
# cp .env.example .env
# =============================================================================

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Configuration
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Database names for each microservice
DB_CATALOG=ms_catalog
DB_PAYMENTS=ms_payments
DB_INVENTORY=ms_inventory
DB_PURCHASES=ms_purchases

# =============================================================================
# MICROSERVICES PORTS
# =============================================================================

# Orchestrator Service (FastAPI)
ORCHESTRATOR_PORT=8000
ORCHESTRATOR_HOST=0.0.0.0

# Catalog Service (Django)
CATALOG_PORT=8001
CATALOG_HOST=0.0.0.0

# Payments Service (Django)
PAYMENTS_PORT=8002
PAYMENTS_HOST=0.0.0.0

# Inventory Service (Django)
INVENTORY_PORT=8003
INVENTORY_HOST=0.0.0.0

# Purchases Service (Django)
PURCHASES_PORT=8004
PURCHASES_HOST=0.0.0.0

# =============================================================================
# DJANGO CONFIGURATION
# =============================================================================

# Django Secret Key (generate a new one for production!)
# You can generate one with: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
DJANGO_SECRET_KEY=django-insecure-change-this-in-production-key-12345

# Django Debug Mode (set to False in production)
DJANGO_DEBUG=True

# Django Allowed Hosts (comma-separated list)
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0

# Django CORS Configuration
DJANGO_CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# =============================================================================
# MICROSERVICES URLs (for inter-service communication)
# =============================================================================

# Internal Docker network URLs (used by orchestrator)
CATALOG_SERVICE_URL=http://catalog:8001
PAYMENTS_SERVICE_URL=http://payments:8002
INVENTORY_SERVICE_URL=http://inventory:8003
PURCHASES_SERVICE_URL=http://purchases:8004

# External URLs (for local development outside Docker)
# CATALOG_SERVICE_URL=http://localhost:8001
# PAYMENTS_SERVICE_URL=http://localhost:8002
# INVENTORY_SERVICE_URL=http://localhost:8003
# PURCHASES_SERVICE_URL=http://localhost:8004

# =============================================================================
# SAGA CONFIGURATION
# =============================================================================

# Saga timeout in seconds
SAGA_TIMEOUT=30

# Retry configuration
SAGA_MAX_RETRIES=3
SAGA_RETRY_DELAY=1

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log Format
LOG_FORMAT=json

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Gunicorn Workers (for Django services)
GUNICORN_WORKERS=4
GUNICORN_THREADS=2
GUNICORN_TIMEOUT=60

# Uvicorn Workers (for FastAPI orchestrator)
UVICORN_WORKERS=4

# Database Connection Pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10

# =============================================================================
# DEVELOPMENT/TESTING CONFIGURATION
# =============================================================================

# Enable development features
DEV_MODE=True

# Test database names (for running tests)
TEST_DB_CATALOG=test_ms_catalog
TEST_DB_PAYMENTS=test_ms_payments
TEST_DB_INVENTORY=test_ms_inventory
TEST_DB_PURCHASES=test_ms_purchases

# =============================================================================
# DOCKER COMPOSE CONFIGURATION
# =============================================================================

# Project name (affects container names)
COMPOSE_PROJECT_NAME=ecommerce

# Docker network name
DOCKER_NETWORK=ecommerce-network

# =============================================================================
# HEALTH CHECK CONFIGURATION
# =============================================================================

# Health check interval in seconds
HEALTHCHECK_INTERVAL=10
HEALTHCHECK_TIMEOUT=5
HEALTHCHECK_RETRIES=3

# =============================================================================
# TIMEZONE CONFIGURATION
# =============================================================================

# Application timezone
TZ=America/Argentina/Buenos_Aires

# Database timezone
POSTGRES_TZ=America/Argentina/Buenos_Aires

# =============================================================================
# OPTIONAL: MONITORING & OBSERVABILITY
# =============================================================================

# Enable metrics collection
ENABLE_METRICS=False

# Prometheus metrics port
METRICS_PORT=9090

# Sentry DSN (for error tracking)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# =============================================================================
# OPTIONAL: API RATE LIMITING
# =============================================================================

# Enable rate limiting
ENABLE_RATE_LIMITING=False

# Requests per minute
RATE_LIMIT_PER_MINUTE=60

# =============================================================================
# OPTIONAL: CACHING
# =============================================================================

# Redis configuration (if using cache)
# REDIS_HOST=redis
# REDIS_PORT=6379
# REDIS_DB=0
# REDIS_PASSWORD=

# Cache timeout in seconds
# CACHE_TIMEOUT=300

# =============================================================================
# NOTES:
# =============================================================================
# 1. Never commit the actual .env file to version control
# 2. Keep .env.example updated when adding new environment variables
# 3. Use strong passwords in production
# 4. Generate a new DJANGO_SECRET_KEY for production
# 5. Set DJANGO_DEBUG=False in production
# 6. Configure proper DJANGO_ALLOWED_HOSTS in production
# =============================================================================
